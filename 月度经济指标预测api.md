# API 文档：月度经济指标预测数据

## 1. 接口概述

本接口用于获取月度经济指标的合并数据，该数据整合了历史记录和未来的预测值。接口支持分页和关键词搜索功能，并能明确区分出哪些数据点是预测值，便于前端进行差异化展示。

---

## 2. 接口详情

- **URL**: `/api/monthly-prediction-data`
- **请求方法**: `GET`
- **Content-Type**: `application/json`

---

## 3. 请求参数

| 参数名      | 类型   | 是否必须 | 默认值 | 描述                                       | 示例                           |
|-------------|--------|----------|--------|--------------------------------------------|--------------------------------|
| `page`      | `int`  | 否       | `1`    | 请求的数据页码，从 `1` 开始。              | `/api/monthly-prediction-data?page=2` |
| `page_size` | `int`  | 否       | `20`   | 每页返回的指标数量。                       | `/api/monthly-prediction-data?page_size=10` |
| `search`    | `string` | 否       | `null` | 用于过滤指标的关键词，将对指标标题进行不区分大小写的匹配。 | `/api/monthly-prediction-data?search=gdp` |

---

## 4. 响应结构

接口返回一个JSON对象，包含分页信息和指标数据列表。

### 响应体示例

```json
{
  "data": [
    {
      "id": "monthly_merged_0",
      "title": "中国:社会消费品零售总额:当月同比",
      "code": "MONTHLY_MERGED",
      "source": "历史+预测数据",
      "times": [
        "2024-05-01",
        "2024-06-01",
        "2024-07-01"
      ],
      "values": [
        3.7,
        3.2,
        2.9
      ],
      "is_predicted": [
        false,
        true,
        true
      ]
    }
    // ... 更多指标数据
  ],
  "total": 125,
  "page": 1,
  "page_size": 20,
  "total_pages": 7
}
```

### 响应字段说明

| 字段名        | 类型              | 描述                                                       |
|---------------|-------------------|------------------------------------------------------------|
| `data`        | `Array<Object>`   | 指标数据对象数组。                                         |
| `total`       | `int`             | 符合条件的总指标数量。                                     |
| `page`        | `int`             | 当前页码。                                                 |
| `page_size`   | `int`             | 每页的指标数量。                                           |
| `total_pages` | `int`             | 总页数。                                                   |

---

## 5. `data` 对象中每个指标的结构

`data` 数组中的每个对象都代表一个独立的经济指标。

| 字段名         | 类型                | 描述                                                                                                                              |
|----------------|---------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| `id`           | `string`            | 指标的唯一标识符。                                                                                                                |
| `title`        | `string`            | 指标的完整名称，例如 "中国:社会消费品零售总额:当月同比"。                                                                         |
| `code`         | `string`            | 指标代码，固定为 `MONTHLY_MERGED`。                                                                                               |
| `source`       | `string`            | 数据来源说明，固定为 `历史+预测数据`。                                                                                            |
| `times`        | `Array<string>`     | 时间序列数组，格式为 `YYYY-MM-DD`。                                                                                               |
| `values`       | `Array<number>`     | 与 `times` 数组一一对应的数值序列。                                                                                               |
| `is_predicted` | `Array<boolean>`    | **核心字段**。一个与 `times` 和 `values` 数组等长的布尔值数组。如果某个索引位置的值为 `true`，则表示 `values` 数组中对应索引的数据点是 **预测值**；`false` 表示是 **历史值**。前端可以根据此字段来区分渲染样式。 |

</rewritten_file> 